<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zend\Ldap\Ldap &mdash; Zend Framework 2 2.3.0dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.3.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.3.0dev documentation" href="../index.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.3.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="zend-ldap-ldap">
<span id="zend-ldap-api-reference-zend-ldap"></span><h1>Zend\Ldap\Ldap<a class="headerlink" href="#zend-ldap-ldap" title="Permalink to this headline">Â¶</a></h1>
<p><tt class="docutils literal"><span class="pre">Zend\Ldap\Ldap</span></tt> is the base interface into a <em>LDAP</em> server. It provides connection and binding methods as well
as methods to operate on the <em>LDAP</em> tree.</p>
<table border="1" class="docutils" id="zend-ldap-api-reference-zend-ldap-table">
<caption>Zend\Ldap\Ldap API</caption>
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>__construct($options)</td>
<td>Constructor. The $options parameter is optional and can be set to an array or a Traversable object. If no options are provided at instantiation, the connection parameters must be passed to the instance using Zend\Ldap\Ldap::setOptions(). The allowed options are specified in Zend\Ldap\Ldap Options</td>
</tr>
<tr class="row-odd"><td>resource getResource()</td>
<td>Returns the raw LDAP extension (ext/ldap) resource.</td>
</tr>
<tr class="row-even"><td>integer getLastErrorCode()</td>
<td>Returns the LDAP error number of the last LDAP command.</td>
</tr>
<tr class="row-odd"><td>string getLastError(integer &amp;$errorCode, array &amp;$errorMessages)</td>
<td>Returns the LDAP error message of the last LDAP command. The optional $errorCode parameter is set to the LDAP error number when given. The optional $errorMessages array will be filled with the raw error messages when given. The various LDAP error retrieval functions can return different things, so they are all collected if $errorMessages is given.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap setOptions($options)</td>
<td>Sets the LDAP connection and binding parameters. $options can be an array or an Traversable object. The allowed options are specified in Zend\Ldap\Ldap Options</td>
</tr>
<tr class="row-odd"><td>array getOptions()</td>
<td>Returns the current connection and binding parameters.</td>
</tr>
<tr class="row-even"><td>string getBaseDn()</td>
<td>Returns the base DN this LDAP connection is bound to.</td>
</tr>
<tr class="row-odd"><td>string getCanonicalAccountName(string $acctname, integer $form)</td>
<td>Returns the canonical account name of the given account name $acctname. $form specifies the format into which the account name is canonicalized. See Account Name Canonicalization for more details.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap disconnect()</td>
<td>Disconnects the Zend\Ldap\Ldap instance from the LDAP server.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Ldap connect(string $host, integer $port, boolean $useSsl, boolean $useStartTls, integer $networkTimeout)</td>
<td>Connects the Zend\Ldap\Ldap instance to the given LDAP server. All parameters are optional and will be taken from the LDAP connection and binding parameters passed to the instance via the constructor or via Zend\Ldap\Ldap::setOptions() when set to NULL.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap bind(string $username, string $password)</td>
<td>Authenticates $username with $password at the LDAP server. If both parameters are omitted the binding will be carried out with the credentials given in the connection and binding parameters. If no credentials are given in the connection and binding parameters an anonymous bind will be performed. Note that this requires anonymous binds to be allowed on the LDAP server. An empty string &#8216;&#8217; can be passed as $password together with a username if, and only if, allowEmptyPassword is set to TRUE in the connection and binding parameters.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Collection search(string|Zend\Ldap\Filter\AbstractFilter $filter, string|Zend\Ldap\Dn $basedn, integer $scope, array $attributes, string $sort, string $collectionClass, integer $sizelimit, integer $timelimit)</td>
<td>Searches the LDAP tree with the given $filter and the given search parameters. string|Zend\Ldap\Filter\AbstractFilter $filter The filter string to be used in the search, e.g. (objectClass=posixAccount). string|Zend\Ldap\Dn $basedn The search base for the search. If omitted or NULL, the baseDn from the connection and binding parameters is used. integer $scope The search scope. Zend\Ldap\Ldap::SEARCH_SCOPE_SUB searches the complete subtree including the $baseDn node. Zend\Ldap\Ldap::SEARCH_SCOPE_ONE restricts search to one level below $baseDn. Zend\Ldap\Ldap::SEARCH_SCOPE_BASE restricts search to the $baseDn itself; this can be used to efficiently retrieve a single entry by its DN. The default value is Zend\Ldap\Ldap::SEARCH_SCOPE_SUB. array $attributes Specifies the attributes contained in the returned entries. To include all possible attributes (ACL restrictions can disallow certain attribute to be retrieved by a given user) pass either an empty array array() or array(&#8216;*&#8217;) to the method. On some LDAP servers you can retrieve special internal attributes by passing array(&#8216;*&#8217;, &#8216;+&#8217;) to the method. string $sort If given the result collection will be sorted after the attribute $sort. Results can only be sorted after one single attribute as this parameter uses the ext/ldap function ldap_sort(). string $collectionClass If given the result will be wrapped in an object of type $collectionClass. By default an object of type Zend\Ldap\Collection will be returned. The custom class must extend Zend\Ldap\Collection and will be passed a Zend\Ldap\Collection\Iterator\Default on instantiation. integer $sizelimit Enables you to limit the count of entries fetched. Setting this to 0 means no limit. integer $timelimit Sets the number of seconds how long is spend on the search. Setting this to 0 means no limit.</td>
</tr>
<tr class="row-even"><td>integer count(string|Zend\Ldap\Filter\AbstractFilter $filter, string|Zend\Ldap\Dn $basedn, integer $scope)</td>
<td>Counts the elements returned by the given search parameters. See Zend\Ldap\Ldap::search() for a detailed description of the method parameters.</td>
</tr>
<tr class="row-odd"><td>integer countChildren(string|Zend\Ldap\Dn $dn)</td>
<td>Counts the direct descendants (children) of the entry identified by the given $dn.</td>
</tr>
<tr class="row-even"><td>boolean exists(string|Zend\Ldap\Dn $dn)</td>
<td>Checks whether the entry identified by the given $dn exists.</td>
</tr>
<tr class="row-odd"><td>array searchEntries(string|Zend\Ldap\Filter\AbstractFilter $filter, string|Zend\Ldap\Dn $basedn, integer $scope, array $attributes, string $sort, string $reverseSort, integer $sizelimit, integer $timelimit)</td>
<td>Performs a search operation and returns the result as an PHP array. This is essentially the same method as Zend\Ldap\Ldap::search() except for the return type. See Zend\Ldap\Ldap::search() for a detailed description of the method parameters.</td>
</tr>
<tr class="row-even"><td>array getEntry(string|Zend\Ldap\Dn $dn, array $attributes, boolean $throwOnNotFound)</td>
<td>Retrieves the LDAP entry identified by $dn with the attributes specified in $attributes. if $attributes is omitted, all attributes (array()) are included in the result. $throwOnNotFound is FALSE by default, so the method will return NULL if the specified entry cannot be found. If set to TRUE, a Zend\Ldap\Exception\LdapException will be thrown instead.</td>
</tr>
<tr class="row-odd"><td>void prepareLdapEntryArray(array &amp;$entry)</td>
<td>Prepare an array for the use in LDAP modification operations. This method does not need to be called by the end-user as it&#8217;s implicitly called on every data modification method.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap add(string|Zend\Ldap\Dn $dn, array $entry)</td>
<td>Adds the entry identified by $dn with its attributes $entry to the LDAP tree. Throws a Zend\Ldap\Exception\LdapException if the entry could not be added.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Ldap update(string|Zend\Ldap\Dn $dn, array $entry)</td>
<td>Updates the entry identified by $dn with its attributes $entry to the LDAP tree. Throws a Zend\Ldap\Exception\LdapException if the entry could not be modified.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap save(string|Zend\Ldap\Dn $dn, array $entry)</td>
<td>Saves the entry identified by $dn with its attributes $entry to the LDAP tree. Throws a Zend\Ldap\Exception\LdapException if the entry could not be saved. This method decides by querying the LDAP tree if the entry will be added or updated.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Ldap delete(string|Zend\Ldap\Dn $dn, boolean $recursively)</td>
<td>Deletes the entry identified by $dn from the LDAP tree. Throws a Zend\Ldap\Exception\LdapException if the entry could not be deleted. $recursively is FALSE by default. If set to TRUE the deletion will be carried out recursively and will effectively delete a complete subtree. Deletion will fail if $recursively is FALSE and the entry $dn is not a leaf entry.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap moveToSubtree(string|Zend\Ldap\Dn $from, string|Zend\Ldap\Dn $to, boolean $recursively, boolean $alwaysEmulate)</td>
<td>Moves the entry identified by $from to a location below $to keeping its RDN unchanged. $recursively specifies if the operation will be carried out recursively (FALSE by default) so that the entry $from and all its descendants will be moved. Moving will fail if $recursively is FALSE and the entry $from is not a leaf entry. $alwaysEmulate controls whether the ext/ldap function ldap_rename() should be used if available. This can only work for leaf entries and for servers and for ext/ldap supporting this function. Set to TRUE to always use an emulated rename operation. All move-operations are carried out by copying and then deleting the corresponding entries in the LDAP tree. These operations are not atomic so that failures during the operation will result in an inconsistent state on the LDAP server. The same is true for all recursive operations. They also are by no means atomic. Please keep this in mind.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Ldap move(string|Zend\Ldap\Dn $from, string|Zend\Ldap\Dn $to, boolean $recursively, boolean $alwaysEmulate)</td>
<td>This is an alias for Zend\Ldap\Ldap::rename().</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap rename(string|Zend\Ldap\Dn $from, string|Zend\Ldap\Dn $to, boolean $recursively, boolean $alwaysEmulate)</td>
<td>Renames the entry identified by $from to $to. $recursively specifies if the operation will be carried out recursively (FALSE by default) so that the entry $from and all its descendants will be moved. Moving will fail if $recursively is FALSE and the entry $from is not a leaf entry. $alwaysEmulate controls whether the ext/ldap function ldap_rename() should be used if available. This can only work for leaf entries and for servers and for ext/ldap supporting this function. Set to TRUE to always use an emulated rename operation.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Ldap copyToSubtree(string|Zend\Ldap\Dn $from, string|Zend\Ldap\Dn $to, boolean $recursively)</td>
<td>Copies the entry identified by $from to a location below $to keeping its RDN unchanged. $recursively specifies if the operation will be carried out recursively (FALSE by default) so that the entry $from and all its descendants will be copied. Copying will fail if $recursively is FALSE and the entry $from is not a leaf entry.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Ldap copy(string|Zend\Ldap\Dn $from, string|Zend\Ldap\Dn $to, boolean $recursively)</td>
<td>Copies the entry identified by $from to $to. $recursively specifies if the operation will be carried out recursively (FALSE by default) so that the entry $from and all its descendants will be copied. Copying will fail if $recursively is FALSE and the entry $from is not a leaf entry.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Node getNode(string|Zend\Ldap\Dn $dn)</td>
<td>Returns the entry $dn wrapped in a Zend\Ldap\Node.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Node getBaseNode()</td>
<td>Returns the entry for the base DN $baseDn wrapped in a Zend\Ldap\Node.</td>
</tr>
<tr class="row-odd"><td>Zend\Ldap\Node\RootDse getRootDse()</td>
<td>Returns the RootDSE for the current server.</td>
</tr>
<tr class="row-even"><td>Zend\Ldap\Node\Schema getSchema()</td>
<td>Returns the LDAP schema for the current server.</td>
</tr>
</tbody>
</table>
<div class="section" id="zend-ldap-collection">
<span id="zend-ldap-api-reference-zend-ldap-zend-ldap-collection"></span><h2>Zend\Ldap\Collection<a class="headerlink" href="#zend-ldap-collection" title="Permalink to this headline">Â¶</a></h2>
<p><tt class="docutils literal"><span class="pre">Zend\Ldap\Collection</span></tt> implements <em>Iterator</em> to allow for item traversal using <tt class="docutils literal"><span class="pre">foreach()</span></tt> and <em>Countable</em> to
be able to respond to <tt class="docutils literal"><span class="pre">count()</span></tt>. With its protected <tt class="docutils literal"><span class="pre">createEntry()</span></tt> method it provides a simple extension point
for developers needing custom result objects.</p>
<table border="1" class="docutils" id="zend-ldap-api-reference-zend-ldap-zend-ldap-collection-table">
<caption>Zend\Ldap\Collection API</caption>
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Method</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>__construct(Zend\Ldap\Collection\Iterator\Interface $iterator)</td>
<td>Constructor. The constructor must be provided by a Zend\Ldap\Collection\Iterator\Interface which does the real result iteration. Zend\Ldap\Collection\Iterator\Default is the default implementation for iterating ext/ldap results.</td>
</tr>
<tr class="row-odd"><td>boolean close()</td>
<td>Closes the internal iterator. This is also called in the destructor.</td>
</tr>
<tr class="row-even"><td>array toArray()</td>
<td>Returns all entries as an array.</td>
</tr>
<tr class="row-odd"><td>array getFirst()</td>
<td>Returns the first entry in the collection or NULL if the collection is empty.</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Zend\Ldap\Ldap</a><ul>
<li><a class="reference internal" href="#zend-ldap-collection">Zend\Ldap\Collection</a></li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/modules/zend.ldap.api.ldap.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/modules/zend.ldap.api.ldap.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.ldap.api.ldap.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.3.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Zend Technologies Ltd..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/modules/zend.ldap.api.ldap.rst">
                Zend\Ldap\Ldap
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>