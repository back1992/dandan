<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Recommended Project Structure for Zend Framework MVC Applications &mdash; Zend Framework 2 2.3.0dev documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.3.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Zend Framework 2 2.3.0dev documentation" href="../index.html" />
<style type="text/css">
    /* Styles for floating Edit on GitHub box */
    #editor-trap {
        padding: 1em;
        border: 1px solid white;
        width: 250px;

        display: none;
        color: white;
        background: #3f454b;
        position: fixed;
        bottom: 5px;
        left: 175px;
        font-size: 85%;
        text-align: left;
        z-index: 2;

        box-shadow: 0 4px 6px #333;
        -moz-box-shadow: 0 4px 6px #333;
        -webkit-box-shadow: 0 4px 6px #333;
        
        cursor: pointer;
    }

    #editor-trap h3 {
        margin: 0 0 0.5em 0;
        padding: 0;
    }

    #editor-trap h3 > span {
        padding: 0 6px;
        border: solid white;
        border-width: 0 1px 4px 1px;
        font-size: 10px;
    }

    #editor-trap a {
        color: #98DBCC;
    }

    #editor-trap ol {
        margin: 0;
        padding: 0 0 0 2em;
    }

    /* Hide trick */
    #editor-trap.toggled > * {
        display: none;
    }


    #editor-trap.toggled > h3 {
        display: block;
    }

    #editor-trap.toggled > h3 > span {
        border-width: 6px 1px 0 1px;
    }
    
    #edit-button {
        position: fixed;
        bottom: 5px;
        left: 5px;
        z-index: 2;
        width: 162px;
        height: 42px;
    }
</style>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.3.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="recommended-project-structure-for-zend-framework-mvc-applications">
<span id="project-structure"></span><h1>Recommended Project Structure for Zend Framework MVC Applications<a class="headerlink" href="#recommended-project-structure-for-zend-framework-mvc-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<span id="project-structure-overview"></span><h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Many developers seek guidance on the best project structure for a Zend Framework project in a relatively flexible
environment. A &#8220;flexible&#8221; environment is one in which the developer can manipulate their file systems and web
server configurations as needed to achieve the most ideal project structure to run and secure their application.
The default project structure will assume that the developer has such flexibility at their disposal.</p>
<p>The following directory structure is designed to be maximally extensible for complex projects, while providing a
simple subset of folder and files for project with simpler requirements. This structure also works without
alteration for both modular and non-modular Zend Framework applications. The <tt class="docutils literal"><span class="pre">.htaccess</span></tt> files require <em>URL</em>
rewrite functionality in the web server as described in the <a class="reference internal" href="#project-structure-rewrite"><em>Rewrite Configuration Guide</em></a>, also included in this appendix.</p>
<p>It is not the intention that this project structure will support all possible Zend Framework project requirements.
The default project profile used by <tt class="docutils literal"><span class="pre">Zend_Tool</span></tt> reflect this project structure, but applications with
requirements not supported by this structure should use a custom project profile.</p>
</div>
<div class="section" id="recommended-project-directory-structure">
<span id="project-structure-project"></span><h2>Recommended Project Directory Structure<a class="headerlink" href="#recommended-project-directory-structure" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39</pre></div></td><td class="code"><div class="highlight"><pre>&lt;project name&gt;/
    application/
        configs/
            application.ini
        controllers/
            helpers/
        forms/
        layouts/
            filters/
            helpers/
            scripts/
        models/
        modules/
        services/
        views/
            filters/
            helpers/
            scripts/
        Bootstrap.php
    data/
        cache/
        indexes/
        locales/
        logs/
        sessions/
        uploads/
    docs/
    library/
    public/
        css/
        images/
        js/
        .htaccess
        index.php
    scripts/
        jobs/
        build/
    temp/
    tests/
</pre></div>
</td></tr></table></div>
<p>The following describes the use cases for each directory as listed.</p>
<ul class="simple">
<li><strong>application/</strong>: This directory contains your application. It will house the <em>MVC</em> system, as well as
configurations, services used, and your bootstrap file.<ul>
<li><strong>configs/</strong>: The application-wide configuration directory.</li>
<li><strong>controllers/</strong>, <strong>models/</strong>, and <strong>views/</strong>: These directories serve as the default controller, model or view
directories. Having these three directories inside the application directory provides the best layout for
starting a simple project as well as starting a modular project that has global <tt class="docutils literal"><span class="pre">controllers/models/views</span></tt>.</li>
<li><strong>controllers/helpers/</strong>: These directories will contain action helpers. Action helpers will be namespaced
either as &#8220;<tt class="docutils literal"><span class="pre">Controller_Helper_</span></tt>&#8221; for the default module or &#8220;&lt;Module&gt;_Controller_Helper&#8221; in other modules.</li>
<li><strong>layouts/</strong>: This layout directory is for <em>MVC</em>-based layouts. Since <tt class="docutils literal"><span class="pre">Zend_Layout</span></tt> is capable of <em>MVC</em>- and
non-<em>MVC</em>-based layouts, the location of this directory reflects that layouts are not on a 1-to-1 relationship
with controllers and are independent of templates within <tt class="docutils literal"><span class="pre">views/</span></tt>.</li>
<li><strong>modules/</strong>: Modules allow a developer to group a set of related controllers into a logically organized group.
The structure under the modules directory would resemble the structure under the application directory.</li>
<li><strong>services/</strong>: This directory is for your application specific web-service files that are provided by your
application, or for implementing a <a class="reference external" href="http://www.martinfowler.com/eaaCatalog/serviceLayer.html">Service Layer</a> for your models.</li>
<li><strong>Bootstrap.php</strong>: This file is the entry point for your application, and should implement
<tt class="docutils literal"><span class="pre">Zend\Application\Bootstrap\Bootstrapper</span></tt>. The purpose for this file is to bootstrap the application and make
components available to the application by initializing them.</li>
</ul>
</li>
<li><strong>data/</strong>: This directory provides a place to store application data that is volatile and possibly temporary. The
disturbance of data in this directory might cause the application to fail. Also, the information in this
directory may or may not be committed to a subversion repository. Examples of things in this directory are
session files, cache files, sqlite databases, logs and indexes.</li>
<li><strong>docs/</strong>: This directory contains documentation, either generated or directly authored.</li>
<li><strong>library/</strong>: This directory is for common libraries on which the application depends, and should be on the <em>PHP</em>
<tt class="docutils literal"><span class="pre">include_path</span></tt>. Developers should place their application&#8217;s library code under this directory in a unique
namespace, following the guidelines established in the <em>PHP</em> manual&#8217;s <a class="reference external" href="http://www.php.net/manual/en/userlandnaming.php">Userland Naming Guide</a>, as well as those
established by Zend itself. This directory may also include Zend Framework itself; if so, you would house it in
<tt class="docutils literal"><span class="pre">library/Zend/</span></tt>.</li>
<li><strong>public/</strong>: This directory contains all public files for your application. <tt class="docutils literal"><span class="pre">index.php</span></tt> sets up and invokes
<tt class="docutils literal"><span class="pre">Zend_Application</span></tt>, which in turn invokes the <tt class="docutils literal"><span class="pre">application/Bootstrap.php</span></tt> file, resulting in dispatching the
front controller. The web root of your web server would typically be set to this directory.</li>
<li><strong>scripts/</strong>: This directory contains maintenance and/or build scripts. Such scripts might include command line,
cron, or phing build scripts that are not executed at runtime but are part of the correct functioning of the
application.</li>
<li><strong>temp/</strong>: The <tt class="docutils literal"><span class="pre">temp/</span></tt> folder is set aside for transient application data. This information would not typically
be committed to the applications svn repository. If data under the <tt class="docutils literal"><span class="pre">temp/</span></tt> directory were deleted, the
application should be able to continue running with a possible decrease in performance until data is once again
restored or recached.</li>
<li><strong>tests/</strong>: This directory contains application tests. These could be hand-written, PHPUnit tests, Selenium-RC
based tests or based on some other testing framework. By default, library code can be tested by mimicking the
directory structure of your <tt class="docutils literal"><span class="pre">library/</span></tt> directory. Additionally, functional tests for your application could be
written mimicing the <tt class="docutils literal"><span class="pre">application/</span></tt> directory structure (including the application subdirectory).</li>
</ul>
</div>
<div class="section" id="module-structure">
<span id="project-structure-filesystem"></span><h2>Module Structure<a class="headerlink" href="#module-structure" title="Permalink to this headline">¶</a></h2>
<p>The directory structure for modules should mimic that of the <tt class="docutils literal"><span class="pre">application/</span></tt> directory in the recommended project
structure:</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre>&lt;modulename&gt;
    configs/
        application.ini
    controllers/
        helpers/
    forms/
    layouts/
        filters/
        helpers/
        scripts/
    models/
    services/
    views/
        filters/
        helpers/
        scripts/
    Bootstrap.php
</pre></div>
</td></tr></table></div>
<p>The purpose of these directories remains exactly the same as for the recommended project directory structure.</p>
</div>
<div class="section" id="rewrite-configuration-guide">
<span id="project-structure-rewrite"></span><h2>Rewrite Configuration Guide<a class="headerlink" href="#rewrite-configuration-guide" title="Permalink to this headline">¶</a></h2>
<p><em>URL</em> rewriting is a common function of <em>HTTP</em> servers. However, the rules and configuration differ widely between
them. Below are some common approaches across a variety of popular web servers available at the time of writing.</p>
<div class="section" id="apache-http-server">
<span id="project-structure-rewrite-apache"></span><h3>Apache HTTP Server<a class="headerlink" href="#apache-http-server" title="Permalink to this headline">¶</a></h3>
<p>All examples that follow use <tt class="docutils literal"><span class="pre">mod_rewrite</span></tt>, an official module that comes bundled with Apache. To use it,
<tt class="docutils literal"><span class="pre">mod_rewrite</span></tt> must either be included at compile time or enabled as a Dynamic Shared Object (<em>DSO</em>). Please
consult the <a class="reference external" href="http://httpd.apache.org/docs/">Apache documentation</a> for your version for more information.</p>
</div>
<div class="section" id="rewriting-inside-a-virtualhost">
<span id="project-structure-rewrite-apache-vhost"></span><h3>Rewriting inside a VirtualHost<a class="headerlink" href="#rewriting-inside-a-virtualhost" title="Permalink to this headline">¶</a></h3>
<p>Here is a very basic virtual host definition. These rules direct all requests to <tt class="docutils literal"><span class="pre">index.php</span></tt>, except when a
matching file is found under the <tt class="docutils literal"><span class="pre">document_root</span></tt>.</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="highlight"><pre>&lt;VirtualHost my.domain.com:80&gt;
    ServerName   my.domain.com
    DocumentRoot /path/to/server/root/my.domain.com/public

    RewriteEngine off

    &lt;Location /&gt;
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} -s [OR]
        RewriteCond %{REQUEST_FILENAME} -l [OR]
        RewriteCond %{REQUEST_FILENAME} -d
        RewriteRule ^ - [NC,L]
        RewriteRule ^ /index.php [NC,L]
    &lt;/Location&gt;
&lt;/VirtualHost&gt;
</pre></div>
</td></tr></table></div>
<p>Note the slash (&#8220;/&#8221;) prefixing <tt class="docutils literal"><span class="pre">index.php</span></tt>; the rules for <tt class="docutils literal"><span class="pre">.htaccess</span></tt> differ in this regard.</p>
</div>
<div class="section" id="rewriting-within-a-htaccess-file">
<span id="project-structure-rewrite-apache-htaccess"></span><h3>Rewriting within a .htaccess file<a class="headerlink" href="#rewriting-within-a-htaccess-file" title="Permalink to this headline">¶</a></h3>
<p>Below is a sample <tt class="docutils literal"><span class="pre">.htaccess</span></tt> file that utilizes <tt class="docutils literal"><span class="pre">mod_rewrite</span></tt>. It is similar to the virtual host
configuration, except that it specifies only the rewrite rules, and the leading slash is omitted from
<tt class="docutils literal"><span class="pre">index.php</span></tt>.</p>
<div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre>RewriteEngine On
RewriteCond %{REQUEST_FILENAME} -s [OR]
RewriteCond %{REQUEST_FILENAME} -l [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [NC,L]
RewriteRule ^ index.php [NC,L]
</pre></div>
</td></tr></table></div>
<p>There are many ways to configure <tt class="docutils literal"><span class="pre">mod_rewrite</span></tt>; if you would like more information, see Jayson Minard&#8217;s
<a class="reference external" href="http://devzone.zend.com/400/blueprint-for-php-applications_bootstrapping-part-1/">Blueprint for PHP Applications: Bootstrapping</a>.</p>
</div>
<div class="section" id="microsoft-internet-information-server">
<span id="project-structure-rewrite-iis"></span><h3>Microsoft Internet Information Server<a class="headerlink" href="#microsoft-internet-information-server" title="Permalink to this headline">¶</a></h3>
<p>As of version 7.0, <em>IIS</em> now ships with a standard rewrite engine. You may use the following configuration to
create the appropriate rewrite rules.</p>
<div class="highlight-xml"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
    <span class="nt">&lt;system.webServer&gt;</span>
        <span class="nt">&lt;rewrite&gt;</span>
            <span class="nt">&lt;rules&gt;</span>
                <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;Imported Rule 1&quot;</span> <span class="na">stopProcessing=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;match</span> <span class="na">url=</span><span class="s">&quot;^.*$&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;conditions</span> <span class="na">logicalGrouping=</span><span class="s">&quot;MatchAny&quot;</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;add</span> <span class="na">input=</span><span class="s">&quot;{REQUEST_FILENAME}&quot;</span>
                             <span class="na">matchType=</span><span class="s">&quot;IsFile&quot;</span> <span class="na">pattern=</span><span class="s">&quot;&quot;</span>
                             <span class="na">ignoreCase=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
                        <span class="nt">&lt;add</span> <span class="na">input=</span><span class="s">&quot;{REQUEST_FILENAME}&quot;</span>
                             <span class="na">matchType=</span><span class="s">&quot;IsDirectory&quot;</span>
                             <span class="na">pattern=</span><span class="s">&quot;&quot;</span>
                             <span class="na">ignoreCase=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;/conditions&gt;</span>
                    <span class="nt">&lt;action</span> <span class="na">type=</span><span class="s">&quot;None&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/rule&gt;</span>
                <span class="nt">&lt;rule</span> <span class="na">name=</span><span class="s">&quot;Imported Rule 2&quot;</span> <span class="na">stopProcessing=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;match</span> <span class="na">url=</span><span class="s">&quot;^.*$&quot;</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;action</span> <span class="na">type=</span><span class="s">&quot;Rewrite&quot;</span> <span class="na">url=</span><span class="s">&quot;index.php&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;/rule&gt;</span>
            <span class="nt">&lt;/rules&gt;</span>
        <span class="nt">&lt;/rewrite&gt;</span>
    <span class="nt">&lt;/system.webServer&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/zf2_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Recommended Project Structure for Zend Framework MVC Applications</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#recommended-project-directory-structure">Recommended Project Directory Structure</a></li>
<li><a class="reference internal" href="#module-structure">Module Structure</a></li>
<li><a class="reference internal" href="#rewrite-configuration-guide">Rewrite Configuration Guide</a><ul>
<li><a class="reference internal" href="#apache-http-server">Apache HTTP Server</a></li>
<li><a class="reference internal" href="#rewriting-inside-a-virtualhost">Rewriting inside a VirtualHost</a></li>
<li><a class="reference internal" href="#rewriting-within-a-htaccess-file">Rewriting within a .htaccess file</a></li>
<li><a class="reference internal" href="#microsoft-internet-information-server">Microsoft Internet Information Server</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li>
        <!--<a href="../_sources/ref/project.structure.txt"-->
        <a href="https://github.com/zendframework/zf2-documentation/blob/master/docs/languages/en/ref/project.structure.rst"
           rel="nofollow">Show Source</a></li>
    <li><a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/ref/project.structure.rst"
           rel="nofollow">Edit Source</a>
    </li>
  </ul>
        <p style="font-size: 12px">
            Note: You need to stay logged into your <a href="http://www.github.com">GitHub account</a> to contribute to the documentation.
        </p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li><a href="../index.html">Zend Framework 2 2.3.0dev documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2013, Zend Technologies Ltd..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
<div id="edit-button">
    <img src="../_static/edit.gif" alt="Edit this document" title="Edit this document" onclick="javascript:$('#editor-trap').toggle();">
</div>
     
<div id="editor-trap">
    <h3>Edit this document</h3>

    <p>
        The source code of this file is hosted on GitHub. Everyone can
        update and fix errors in this document with few clicks -
        no downloads needed.
    <p>

    <ol>

        <li>
            Login with your <a href="http://www.github.com">GitHub</a> account.
        </li>

        <li>
            Go to
            <a href="https://github.com/zendframework/zf2-documentation/edit/master/docs/languages/en/ref/project.structure.rst">
                Recommended Project Structure for Zend Framework MVC Applications
            </a> on GitHub.
        </li>

        <li>
            Edit file contents using GitHub's text editor in your web browser
        </li>

        <li>
            Fill in the <b>Commit message</b> text box at the end of the page telling <i>why</i>
            you did the changes. Press <b>Propose file change</b> button next to it when done.
        </li>


        <li>
            On <i>Send a pull request</i> page you don't need to fill in text anymore. Just
            press <b>Send pull request</b> button.
        </li>

        <li>
            Your changes are now queued for review under project's <a href="https://github.com/zendframework/zf2-documentation/pulls">Pull requests</a> tab on GitHub.
        </li>
    </ol>

</div>


  </body>
</html>